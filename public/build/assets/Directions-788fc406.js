import{u as j,W as g,j as e,r as N,a as v,d as w}from"./app-c9604755.js";import{P as y}from"./Pencil-055c228a.js";import{P as p}from"./PrimaryButton-d609209b.js";import{P as k}from"./Plus-ef677dde.js";import{I as h}from"./InputError-d0949e04.js";import{I as u}from"./InputLabel-6660fdcd.js";import{T as f}from"./TextInput-8cf6e601.js";import{I}from"./Info-444661a6.js";import{A as C}from"./AuthenticatedLayout-ed425b4d.js";import{T as D}from"./Trash-16ed6141.js";import"./ApplicationLogo-e5fd4450.js";import"./SecondaryButton-282a7def.js";const P=l=>{const{direction:t=null}=l,{setModal:o}=j(),{data:r,setData:i,post:m,patch:c,processing:d,errors:s,reset:x}=g({id:t?t.id:null,sort:t?t.sort:100,title:t?t.title:""}),n=a=>{i(a.target.name,a.target.type==="checkbox"?a.target.checked:a.target.value)},b=a=>{a.preventDefault(),t&&t.id?c(route("admin.directions.update",{direction:t.id}),{onSuccess:()=>{o(null)}}):m(route("admin.directions.store"),{onSuccess:()=>{o(null)}})};return e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-center mb-4",children:"Направление"}),e.jsxs("form",{onSubmit:b,className:"min-w-[24rem]",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{htmlFor:"sort",value:"Порядок",color:"text-gray-200",weight:"normal"}),e.jsx(f,{id:"sort",type:"number",name:"sort",bg:"bg-gray-50",value:r.sort,className:"mt-1 block w-full text-xl",onChange:n}),e.jsx(h,{message:s.sort,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{htmlFor:"title",value:"Наименование",color:"text-gray-200",weight:"normal"}),e.jsx(f,{id:"title",type:"text",name:"title",bg:"bg-gray-50",value:r.title,className:"mt-1 block w-full text-xl",onChange:n}),e.jsx(h,{message:s.title,className:"mt-2"})]}),e.jsx(p,{className:"w-full my-4 justify-center text-lg font-semibold",children:"Отправить"}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#",className:"text-red-500 underline hover:no-underline",onClick:a=>{a.preventDefault(),o(null)},children:"Отменить"})})]})]})},q=l=>{const{pagetitle:t,directions:o,errors:r={}}=l,{setModal:i}=j(),{data:m,post:c}=g({_method:"delete"}),d=s=>{c(route("admin.directions.destroy",{direction:s.id}))};return N.useEffect(()=>{r&&r.message&&i(e.jsx(I,{message:r.message,status:"error"}))},[r]),e.jsxs(C,{auth:l.auth,errors:l.errors,heading:e.jsx("h1",{className:"font-semibold text-3xl text-gray-800 leading-tight",children:t}),children:[e.jsx(v,{title:t}),e.jsxs("div",{className:"pb-12 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"flex",children:e.jsxs(p,{className:"mb-4",onClick:s=>i(e.jsx(P,{})),children:[e.jsx("span",{children:"Добавить"}),e.jsx(k,{className:"w-6 h-auto ml-3"})]})}),e.jsx("div",{className:"rounded-lg shadow-block bg-white px-3 pt-5 overflow-y-auto",children:o.map((s,x)=>e.jsxs("div",{className:"flex space-x-5 items-center mb-5 p-5 rounded-lg bg-blue-50 hover:bg-white hover:shadow-block",children:[e.jsx("div",{className:"grow",children:e.jsx("div",{className:"font-medium text-violet-500",children:s.title})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(w,{href:route("admin.directions.edit",{direction:s.id}),className:"text-violet-500",children:e.jsx(y,{className:"w-6 h-auto"})}),e.jsx("a",{href:"#",className:"text-red-500",onClick:n=>{n.preventDefault(),d(s)},children:e.jsx(D,{className:"w-6 h-auto"})})]})]},x))})]})]})};export{q as default};
