import{j as e,a as u,e as b,r as n,W as p}from"./app-de8fb980.js";import{t as o}from"./timestatuses-baf988a3.js";import{w as g}from"./weekdays-e8888080.js";import{A as _}from"./AuthenticatedLayout-3e0a4434.js";import"./ApplicationLogo-37b39797.js";import"./SecondaryButton-b82ae6ed.js";const N=l=>{const{item:d,day:t,specialist:s}=l,[i,a]=n.useState(!1),{data:m,setData:h,patch:x,transform:v}=p({day:t,time:d.time,status:null}),f=()=>a(!1);return n.useEffect(()=>(document.addEventListener("closedaysmenu",f),()=>{document.removeEventListener("closedaysmenu",f)}),[]),n.useEffect(()=>{m.status&&x(route("recieption.specialist.schedule.update",{specialist:s.id}),{onSuccess:()=>{a(!1)}})},[m.status]),v(r=>({...r})),e.jsxs("div",{className:`relative border-l border-violet-500 ${o.find(r=>r.code===d.days[t]).color}`,onClick:r=>{r.stopPropagation(),document.dispatchEvent(new Event("closedaysmenu")),a(!0)},children:[e.jsxs("div",{children:[" ",e.jsx("br",{})," "]}),i?e.jsx("div",{className:"absolute border bg-white shadow-block z-10 text-left right-0",children:e.jsx("ul",{className:"whitespace-nowrap",children:["free","cfree","rest"].map((r,j)=>e.jsx("li",{children:e.jsxs("label",{htmlFor:r,className:"flex items-center hover:bg-slate-100 cursor-pointer p-1",children:[e.jsx("input",{type:"radio",id:r,value:r,name:"status",className:"opacity-0 hidden",onChange:c=>{h("status",r)}}),e.jsx("div",{className:`w-4 h-4 ${o.find(c=>c.code===r).color} border border-black mr-3 shrink-0`}),e.jsx("div",{children:o.find(c=>c.code===r).html})]})},j))})}):""]})},A=l=>{const{pagetitle:d,specialist:t}=l;for(let s in t.monday);return e.jsxs(_,{auth:l.auth,errors:l.errors,heading:e.jsx("h1",{className:"font-semibold text-3xl text-gray-800 leading-tight",children:d}),children:[e.jsx(u,{title:d}),e.jsx("div",{className:"shadow-block rounded-lg bg-white text-sm text-center overflow-hidden flex flex-col p-1 mb-3",children:e.jsxs("div",{className:"overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr] bg-slate-100",children:[e.jsx("div",{className:""}),g.map((s,i)=>e.jsx("div",{className:"p-5 border-l border-violet-500",children:s.title},i))]}),e.jsxs("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr]",children:[e.jsx("div",{className:"h-8"}),[0,1,2,3,4,5,6].map(s=>e.jsx("div",{className:"h-8 border-l border-violet-500"},s))]}),t.schedule.map((s,i)=>e.jsxs("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr] leading-tight border-t border-violet-500 border-dashed",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("div",{className:"absolute px-3 bg-white -translate-y-full",children:s.time}),e.jsxs("div",{children:[" ",e.jsx("br",{})," "]})]}),[0,1,2,3,4,5,6].map(a=>e.jsx(N,{day:a,item:s,specialist:t},a))]},i)),e.jsxs("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr] border-t border-violet-500 border-dashed",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("div",{className:"absolute px-3 bg-white -translate-y-full",children:"19:30"}),e.jsxs("div",{children:[" ",e.jsx("br",{})," "]})]}),[0,1,2,3,4,5,6].map(s=>e.jsx("div",{className:"h-8 border-l border-violet-500"},s))]})]})}),e.jsx("div",{className:"grid grid-cols-5 gap-4 text-sm",children:o.map((s,i)=>e.jsx(b.Fragment,{children:s.code==="active"||s.code==="active"?"":e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 ${s.color} border border-black mr-3 shrink-0`}),e.jsx("div",{children:s.title})]})},i))})]})};export{A as default};
