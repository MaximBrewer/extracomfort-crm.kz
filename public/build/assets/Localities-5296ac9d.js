import{u as g,W as p,j as e,r as v,a as y}from"./app-1444e377.js";import{P as w}from"./Pencil-32375389.js";import{P as b}from"./PrimaryButton-6a2d1e24.js";import{P as k}from"./Plus-fac945c9.js";import{I as h}from"./InputError-c4d732d3.js";import{I as u}from"./InputLabel-5376ee84.js";import{T as f}from"./TextInput-db1abcc2.js";import{I as C}from"./Info-83fe7737.js";import{A as I}from"./AuthenticatedLayout-4c9918aa.js";import{T as P}from"./Trash-a5ef6f06.js";import"./ApplicationLogo-eb70d3d0.js";import"./SecondaryButton-fda2deb4.js";const j=o=>{const{locality:t=null}=o,{setModal:i}=g(),{data:l,setData:c,post:m,patch:n,processing:d,errors:s,reset:x}=p({id:t?t.id:null,sort:t?t.sort:100,title:t?t.title:""}),r=a=>{c(a.target.name,a.target.type==="checkbox"?a.target.checked:a.target.value)},N=a=>{a.preventDefault(),t&&t.id?n(route("admin.localities.update",{locality:t.id}),{onSuccess:()=>{i(null)}}):m(route("admin.localities.store"),{onSuccess:()=>{i(null)}})};return e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-center mb-4",children:"Населенный пункт"}),e.jsxs("form",{onSubmit:N,className:"min-w-[24rem]",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{htmlFor:"sort",value:"Порядок",color:"text-gray-200",weight:"normal"}),e.jsx(f,{id:"sort",type:"number",name:"sort",bg:"bg-gray-50",value:l.sort,className:"mt-1 block w-full text-xl",onChange:r}),e.jsx(h,{message:s.sort,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{htmlFor:"title",value:"Наименование",color:"text-gray-200",weight:"normal"}),e.jsx(f,{id:"title",type:"text",name:"title",bg:"bg-gray-50",value:l.title,className:"mt-1 block w-full text-xl",onChange:r}),e.jsx(h,{message:s.title,className:"mt-2"})]}),e.jsx(b,{className:"w-full my-4 justify-center text-lg font-semibold",children:"Отправить"}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#",className:"text-red-500 underline hover:no-underline",onClick:a=>{a.preventDefault(),i(null)},children:"Отменить"})})]})]})},_=o=>{const{pagetitle:t,localities:i,errors:l={}}=o,{setModal:c}=g(),{data:m,post:n}=p({_method:"delete"}),d=s=>{n(route("admin.localities.destroy",{locality:s.id}))};return v.useEffect(()=>{l&&l.message&&c(e.jsx(C,{message:l.message,status:"error"}))},[l]),e.jsxs(I,{auth:o.auth,errors:o.errors,heading:e.jsx("h1",{className:"font-semibold text-3xl text-gray-800 leading-tight",children:t}),children:[e.jsx(y,{title:t}),e.jsxs("div",{className:"pb-12 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"flex",children:e.jsxs(b,{className:"mb-4",onClick:s=>c(e.jsx(j,{})),children:[e.jsx("span",{children:"Добавить"}),e.jsx(k,{className:"w-6 h-auto ml-3"})]})}),e.jsx("div",{className:"rounded-lg shadow-block bg-white px-3 pt-5 overflow-y-auto",children:i.map((s,x)=>e.jsxs("div",{className:"flex space-x-5 items-center mb-5 p-5 rounded-lg bg-blue-50 hover:bg-white hover:shadow-block",children:[e.jsx("div",{className:"grow",children:e.jsx("div",{className:"font-medium text-violet-500",children:s.title})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("a",{href:"#",className:"text-violet-500",onClick:r=>{r.preventDefault(),c(e.jsx(j,{locality:s}))},children:e.jsx(w,{className:"w-6 h-auto"})}),e.jsx("a",{href:"#",className:"text-red-500",onClick:r=>{r.preventDefault(),d(s)},children:e.jsx(P,{className:"w-6 h-auto"})})]})]},x))})]})]})};export{_ as default};
