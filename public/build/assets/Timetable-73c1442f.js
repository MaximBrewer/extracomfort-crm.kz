import{r as f,j as e,a as u,d as c,u as o}from"./app-0efa3280.js";import{C as v,a as j}from"./ChevronRight-4aadac2d.js";import"./TextInput-3b148525.js";import{s as N}from"./statuses-52d2cf53.js";import{t as w}from"./times-a0427bbc.js";import{A as g}from"./AuthenticatedLayout-f6d35b57.js";import"./ApplicationLogo-5b9af3b8.js";import"./SecondaryButton-d08c6c15.js";const b=a=>{const{book:l}=a;o();const i=N.data.find(r=>r.code==l.status);return e.jsx("div",{className:"h-10 flex items-center justify-end",children:e.jsx("div",{className:`${i.color} mr-4`,children:i.title})})},y=a=>{const{book:l}=a,{setModal:i,priceFormat:r}=o();let d=0;for(let n of l.payments)d=+n.sum;return e.jsx("div",{className:"h-10 flex items-center justify-end",children:e.jsx("div",{className:"text-gray-300 mr-4",children:d?r(d):"Оплата"})})},R=a=>{const{pagetitle:l,dateText:i,weekdays:r,prevweek:d,nextweek:n,books:m,auth:h}=a;return f.useState(!1),e.jsxs(g,{auth:a.auth,errors:a.errors,heading:!1,children:[e.jsx(u,{title:l}),e.jsxs("div",{className:"pb-12 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("ul",{className:"flex z-1 relative",children:e.jsxs("li",{className:"relative",children:[e.jsx("span",{className:"block rounded-t-lg py-2.5 px-6 shadow-bb font-medium text-3xl bg-white",children:"Расписание"}),e.jsx("div",{className:"absolute top-full h-2 left-0 w-full bg-white"})]})})}),e.jsxs("div",{className:"shadow-bb rounded-lg bg-white py-5 px-4 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"text-lg font-medium mb-5 capitalize",children:i}),e.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg -mx-3",children:[e.jsx(c,{href:route("specialist.timetable",{date:d}),className:"flex items-center shrink-0 py-4 px-4 hover:scale-110",children:e.jsx(v,{className:"h-4 w-auto"})}),e.jsx("ul",{className:"grow grid grid-cols-7 text-center py-1.5",children:r.map((t,x)=>e.jsx("li",{className:"flex justify-center",children:e.jsxs(c,{href:route("specialist.timetable",{date:t.date}),className:`py-3 px-3 rounded-lg ${t.selected?"bg-white shadow-block":"hover:bg-white hover:shadow-block"} cursor-pointer`,children:[e.jsx("div",{className:"text-violet-500",children:t.dateText}),e.jsx("div",{className:"text-[.625rem] uppercase text-gray-600",children:t.weekday})]})},x))}),e.jsx(c,{href:route("specialist.timetable",{date:n}),className:"flex items-center shrink-0 py-4 px-4 hover:scale-110",children:e.jsx(j,{className:"h-4 w-auto"})})]}),e.jsx("div",{className:"overflow-y-auto -mr-3 pr-3",children:m.data.length?w.data.map((t,x)=>e.jsx("div",{className:"overflow-hidden",children:m.data.filter(s=>s.start==t.value&&s.start==s.time).length?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative my-4",children:[e.jsx("div",{className:"absolute -left-4 -right-4 top-1/2 border border-dashed border-blue-200"}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"bg-white px-2 relative z-1 text-xs uppercase font-medium",children:t.label})})]}),m.data.filter(s=>s.start==t.value&&s.start==s.time).map((s,p)=>e.jsxs(c,{href:route("specialist.appointment",{book:s.id}),className:"flex space-x-5 items-center mb-5 rounded-lg overflow-hidden py-3 bg-blue-50 hover:bg-white hover:shadow-block",children:[e.jsx("div",{className:"w-[40%] flex space-x-5 items-center pl-5",children:e.jsxs("div",{className:"grow",children:[e.jsx("div",{className:"font-medium",children:s.patient.fullName}),e.jsx("div",{className:"",children:s.patient.phone?s.patient.phone:s.patient.email})]})}),e.jsx("div",{className:"text-sm w-[40%]",children:e.jsx("span",{className:"text-violet-500 font-medium",children:s.service?s.service.title:""})}),e.jsx("div",{className:"text-sm w-[20%] flex justify-end -my-3",children:e.jsxs("div",{className:"pr-5",children:[e.jsx(b,{book:s,auth:h}),e.jsx(y,{book:s,auth:h})]})})]},p))]}):""},x)):e.jsx("div",{className:"relative my-4 text-center",children:e.jsx("div",{className:"text-2xl font-semibold py-8",children:"Нет записей"})})})]})]})]})};export{R as default};
