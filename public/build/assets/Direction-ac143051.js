import{j as e,W as b,d as j,a as p}from"./app-0830dbe0.js";import"./input-f2119d66.js";import{C as f}from"./CancelButton-104334ad.js";import{I as x}from"./InputError-4f6aef13.js";import{I as h}from"./InputLabel-bf6884a0.js";import{S as v}from"./SuccessButton-e021f4d9.js";import{T as d}from"./TextInput-47cfda1d.js";import{A as w}from"./AuthenticatedLayout-f3757fa3.js";import"./ApplicationLogo-13468e66.js";import"./SecondaryButton-19aedf1c.js";const y=o=>{const{data:t,setData:l}=o,c=(i,s,r)=>{l(a=>{let m=a.services.slice();return m[s][r]=i.target.value,{...a,services:m}})};return e.jsxs(e.Fragment,{children:[e.jsx(h,{htmlFor:"title",value:"Услуги",color:"text-gray-200 mb-2",weight:"normal"}),t.services.map((i,s)=>e.jsxs("div",{className:"border p-2 rounded-xl border-gray-900 border-opacity-[.12] bg-white mb-2 ",children:[e.jsx(d,{type:"number",bg:"bg-white",border:"border border-gray-900 border-opacity-[.12]",className:"mt-1 block w-full",value:i.sort,onChange:r=>c(r,s,"sort")}),e.jsx(d,{type:"text",bg:"bg-white",border:"border border-gray-900 border-opacity-[.12]",className:"mt-1 block w-full",value:i.title,onChange:r=>c(r,s,"title")}),e.jsx("div",{className:"flex justify-end",children:e.jsx("a",{href:"#",onClick:r=>{r.preventDefault(),l(a=>(a.services.splice(s,1),{...a}))},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15"})})})})]},s)),e.jsx("a",{href:"#",onClick:i=>{i.preventDefault(),l(s=>{let r=s.services.slice();return r.push({title:"",sort:(r.length+1)*100}),{...s,services:r}})},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]})},N=o=>{const t=o.direction.data,{data:l,setData:c,post:i,patch:s,processing:r,errors:a,reset:m,transform:k}=b({id:t?t.id:null,title:t&&t.title?t.title:"",sort:t&&t.sort?t.sort:100,services:t&&t.services?t.services:""}),u=n=>{c(n.target.name,n.target.type==="checkbox"?n.target.checked:n.target.value)},g=n=>{n.preventDefault(),t&&t.id?s(route("admin.directions.update",{direction:t.id}),{onSuccess:()=>{}}):i(route("admin.directions.store"),{onSuccess:()=>{}})};return e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(h,{htmlFor:"sort",value:"Порядок",color:"text-gray-200",weight:"normal"}),e.jsx(d,{id:"sort",type:"number",name:"sort",bg:"bg-white",border:"border border-gray-900 border-opacity-[.12]",className:"mt-1 block w-full",value:l.sort,onChange:u}),e.jsx(x,{message:a.sort,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(h,{htmlFor:"title",value:"Наименование",color:"text-gray-200",weight:"normal"}),e.jsx(d,{id:"title",type:"text",bg:"bg-white",border:"border border-gray-900 border-opacity-[.12]",className:"mt-1 block w-full",value:l.title,onChange:u}),e.jsx(x,{message:a.title,className:"mt-2"})]}),e.jsx("div",{className:"mb-4",children:e.jsx(y,{setData:c,data:l})}),e.jsxs("div",{className:"flex space-x-8 items-center justify-end",children:[e.jsx(j,{href:route("admin.directions.index"),children:e.jsx(f,{className:"my-4 justify-center text-lg font-semibold",size:"wide",children:"Отменить"})}),e.jsx(v,{type:"submit",className:"my-4 justify-center text-lg font-semibold",size:"wide",children:"Сохранить"})]})]})},E=o=>{const{pagetitle:t}=o;return e.jsxs(w,{auth:o.auth,errors:o.errors,heading:e.jsx("h1",{className:"font-semibold text-3xl text-gray-800 leading-tight",children:t}),children:[e.jsx(p,{title:t}),e.jsx("div",{className:"pb-12 pt-5",children:e.jsx(N,{...o})})]})};export{E as default};
