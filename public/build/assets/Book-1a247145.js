import{u as S,W as k,j as e}from"./app-f442335c.js";import{S as u}from"./react-select.esm-acf9fad0.js";import{I as r}from"./InputError-960c8471.js";import{I as d}from"./InputLabel-49f188a5.js";import{P as F}from"./PrimaryButton-ebc84cc7.js";import{t as b}from"./times-a0427bbc.js";const L={data:[{value:5,label:"5 мин"},{value:10,label:"10 мин"},{value:15,label:"15 мин"},{value:20,label:"20 мин"},{value:25,label:"25 мин"},{value:30,label:"30 мин"},{value:35,label:"35 мин"},{value:40,label:"40 мин"}]},x={control:(a,{data:i,isDisabled:n,isFocused:o,isSelected:l})=>({...a,minHeight:"2.625rem",borderRadius:".5rem",outline:"none",borderColor:"transparent",boxShadow:"none",backgroundColor:"#F4F4F4"}),indicatorSeparator:(a,{data:i,isDisabled:n,isFocused:o,isSelected:l})=>({...a,backgroundColor:"transparent"})},V=a=>{const{auth:i,branch:n,patient:o,specialist:l,book:H=null,day:p=null,date:g=null,week:j=null,year:f,item:C}=a,{setModal:h}=S(),{data:m,setData:c,post:w,patch:M,processing:D,setError:v,errors:t,reset:B,transform:N}=k({time:b.data.find(s=>s.value==C.time),duration:null,service:null,year:f,day:p,week:j,date:g});N(s=>({...s,time:s.time?s.time.value:null,duration:s.duration?s.duration.value:null,service:s.service?s.service.id:null}));const y=s=>{s.preventDefault(),w(route(`${i.user.role.name}.book.store`,{branch:n.id,patient:o.id,specialist:l.id}),{onSuccess:()=>{h(null)}})};return e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-center mb-4",children:"Новая запись в расписании"}),e.jsxs("form",{onSubmit:y,className:"min-w-[32rem]",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"mb-4 w-1/2",children:[e.jsx(d,{htmlFor:"time",value:"Начало приема",color:"text-gray-200",weight:"normal"}),e.jsx(u,{styles:x,isSearchable:!1,isClearable:!1,maxMenuHeight:200,name:"time",value:m.time,options:b.data,placeholder:"",onChange:s=>{c("time",s),v("message",null)}}),e.jsx(r,{message:t.time,className:"mt-2"})]}),e.jsx("svg",{className:"w-3 h-auto shrink-0 mx-4 mt-9",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6962 4.25606L7.65722 1.21706C7.26622 0.827061 6.63322 0.827061 6.24222 1.21706C5.85222 1.60706 5.85222 2.24106 6.24222 2.63106L7.58622 3.97506H1.94922C1.39822 3.97506 0.949219 4.42306 0.949219 4.97506C0.949219 5.52606 1.39822 5.97506 1.94922 5.97506H7.58622L6.24222 7.31806C5.85222 7.70906 5.85222 8.34206 6.24222 8.73306C6.63322 9.12306 7.26622 9.12306 7.65722 8.73306L10.6962 5.69306C10.7002 5.69006 10.7042 5.68606 10.7072 5.68206C10.9032 5.48706 11.0002 5.23106 11.0002 4.97506C11.0002 4.71906 10.9032 4.46306 10.7072 4.26706C10.7042 4.26406 10.7002 4.26006 10.6962 4.25606Z",fill:"#333333"})}),e.jsxs("div",{className:"mb-4 w-1/2",children:[e.jsx(d,{htmlFor:"duration",value:"Длительность",color:"text-gray-200",weight:"normal"}),e.jsx(u,{styles:x,isSearchable:!1,isClearable:!1,maxMenuHeight:200,name:"duration",value:m.duration,options:L.data,placeholder:"",onChange:s=>{c("duration",s),v("message",null)}}),e.jsx(r,{message:t.duration,className:"mt-2"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{htmlFor:"service",value:"Услуга",color:"text-gray-200",weight:"normal"}),e.jsx(u,{styles:x,isSearchable:!1,isClearable:!1,name:"service",maxMenuHeight:200,value:m.service,options:l.directions,placeholder:"",getOptionLabel:s=>s.title,getOptionValue:s=>s.id,onChange:s=>c("service",s)}),e.jsx(r,{message:t.service,className:"mt-2"})]}),e.jsx("div",{className:"text-center",children:e.jsx(r,{message:t.message,className:"mt-2"})}),e.jsx("div",{className:"text-center",children:e.jsx(F,{className:"w-full max-w-[24rem] my-4 justify-center text-lg font-semibold",children:"Отправить"})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#",className:"text-red-500 underline hover:no-underline",onClick:s=>{s.preventDefault(),h(null)},children:"Отменить"})})]})]})};export{V as B};
